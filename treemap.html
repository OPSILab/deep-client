<!DOCTYPE html>
<html>
<head>
    <!-- style -->
    <link rel="stylesheet" href="js/bootstrap-3.3.4-dist/css/bootstrap.css">
    <style>
        @media screen and (min-width: 768px) {

            #treemapModal .modal-dialog  {width:900px;}

        }
    </style>
    <!-- Js imports -->
    <script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="../COMPONENTS/bower_components/webcomponentsjs/webcomponents.js"></script>
    <script type="text/javascript" src="js/deepClient.js"></script>
    <script src="js/bootstrap-3.3.4-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript">

        DATAURL = "http://dati.lazio.it/catalog/api/action/datastore_search?resource_id=722b6cbd-28d3-4151-ac50-9c4261298168&limit=500";
        FIELDS  = Array("result,records,Descr. missione","result,records,Previsione Competenza","result,records,Descr. programma");

        jQuery(document).ready(function($) {
            var table_params ={
                component   : "datatable-datalet",
                params      :{
                    'data-url' : DATAURL
                },
                fields      : FIELDS,
                placeHolder : "table_component_place_holder"
            };
            var treemap_params ={
                component   : "treemap-datalet",
                params      :{
                    'data-url' : DATAURL,
                    'fields-order' : "0,2,1"
                },
                fields      : FIELDS,
                placeHolder : "treemap_component_place_holder"
            };
            ComponentService.deep_url = 'http://service.routetopa.eu/WebComponentsDEV/DEEP/';
            ComponentService.getComponent(table_params);
            ComponentService.getComponent(treemap_params);
        });
    </script>
</head>
<body>
<div class="jumbotron">
    <div class="container">
        <h2>Open Data Datalets</h2>
        <p class="small text-info">In this page you can see several containers with opendata Datalets. To do this the page uses the DEEPCLIENT js library.
            The only things you have to know is the data source url, the fields that component need to visualize the chart, the componet you want to use and the place holder in witch the component will be
            injected.
        </p><a class="btn btn-primary btn-lg" href="#" role="button">Learn more &raquo;</a></p>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title"> Datatable Datalet</h3>
                </div>
                <div class="panel-body">
                    <div id="table_component_place_holder"></div>
                </div>
            </div>
        </div>
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Treemap Datalet</h3>
                </div>
                <div class="panel-body">
                    <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#treemapModal">Open Modal</button>
                    <!-- Modal -->
                    <div id="treemapModal" class="modal fade" role="dialog">
                        <div class="modal-dialog">
                            <!-- Modal content-->
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    <h4 class="modal-title">Treemap Datalet</h4>
                                </div>
                                <div id="treemap_component_place_holder"></div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>